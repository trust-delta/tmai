# 単一エージェント監視

1つのAIエージェントを監視する基本的な使い方。

## 基本フロー

```bash
# 1. tmuxセッションを作成
tmux new-session -s dev

# 2. Claude Codeを起動
claude

# 3. 別ペインでtmaiを起動
# Ctrl+b % で横分割
tmai
```

## 画面構成

```
┌─────────────────────────────────────────────────────────────┐
│ tmux                                                        │
│                                                             │
│  ┌─────────────────────────┬───────────────────────────────┐│
│  │                         │                               ││
│  │   claude                │   tmai                        ││
│  │   (作業中)              │   (監視)                      ││
│  │                         │                               ││
│  └─────────────────────────┴───────────────────────────────┘│
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 操作方法

### 承認操作

claudeが承認を求めてきたら、tmaiのペインで：

| キー | 動作 |
|------|------|
| `y` | 承認（Enterを送信して確定） |

### AskUserQuestion

選択肢が表示されたら：

| キー | 動作 |
|------|------|
| `1-9` | 選択肢を選択 |
| `Space` | 複数選択時のトグル |

### 直接入力

テキスト入力が必要な場合：

```
p キー → パススルーモード → 入力 → Esc で戻る
```

### プレビュースクロール

| キー | 動作 |
|------|------|
| `Ctrl+d` | 下スクロール |
| `Ctrl+u` | 上スクロール |

## PTYラッピングモード（推奨）

より高精度な状態検出のため：

```bash
# claudeの代わりに
tmai wrap claude
```

メリット：
- 状態遷移をリアルタイム検出
- AskUserQuestionを正確に認識
- 外部送信検知が有効

## 次のステップ

- [マルチエージェント監視](./multi-agent.md) - 複数エージェントを同時に
- [スマホから承認](./remote-approval.md) - 外出先からも操作
